<h1>Payment Form</h1>

<form (ngSubmit)="onClickSubmit(paymentForm)" name="paymentForm" id="paymentForm" #paymentForm="ngForm">
    <div class="form-group">
        <label for="accountName">Name</label>
        <input [(ngModel)]="model.accountName" minlength="4" maxlength="15" pattern="[a-zA-Z]*" placeholder="Enter Account Name" type="text" class="form-control" id="accountName"
               required
               name="accountName"
               #name="ngModel">

        <div *ngIf="name.invalid && (name.dirty || name.touched)"
             class="alert alert-danger">
            <div *ngIf="name.errors.required">
                Name is required.
            </div>
            <div *ngIf="name.errors.minlength">
                Name must be at least 4 characters long.
            </div>
            <div *ngIf="name.errors.pattern">
                Only Alphabets are allowed
            </div>
        </div>
    </div>
    <div class="form-group">
        <label for="accountNumber">Account Number</label>
        <input [(ngModel)]="model.accountNumber" minlength="8" maxlength="12" pattern="^(([1-9]*)|(([1-9]*)\.([0-9]*)))$" placeholder="Enter Account Number" type="text" class="form-control" id="accountNumber"
               required
               name="accountNumber"
               #number="ngModel">
        <div *ngIf="number.invalid && (number.dirty || number.touched)"
             class="alert alert-danger">
            <div *ngIf="number.errors.required">
                Account Number is required.
            </div>
            <div *ngIf="number.errors.minlength">
                Account Number must be at least 8 digit long.
            </div>
            <div *ngIf="number.errors.pattern">
                Only Numbers are allowed.
            </div>
        </div>
    </div>
    <div class="form-group">
        <label for="bsb">BSB</label>
        <input [(ngModel)]="model.bsb" pattern="^\d{3}-?\d{3}$" placeholder="Enter BSB" type="text" class="form-control" id="bsb"
               required
               name="bsb"
               #bsbctrl="ngModel">
        <div *ngIf="bsbctrl.invalid && (bsbctrl.dirty || bsbctrl.touched)"
             class="alert alert-danger">
            <div *ngIf="bsbctrl.errors.required">
                BSB is required.
            </div>
            <div *ngIf="bsbctrl.errors.pattern">
                BSB can only be of 123-567 format.
            </div>
        </div>
    </div>
    <div class="form-group">
        <label for="amount">Amount</label>
        <input [(ngModel)]="model.amount" pattern="^(?:100000|[1-9]\d{0,4})(?:\.\d{1,2})?$" maxlength="9" placeholder="Enter Amount" type="text" class="form-control" id="amount"
               required
               name="amount"
               #amountctrl="ngModel">
        <div *ngIf="amountctrl.invalid && (amountctrl.dirty || amountctrl.touched)"
             class="alert alert-danger">
            <div *ngIf="amountctrl.errors.required">
                Amount is required.
            </div>
            <div *ngIf="amountctrl.errors.pattern">
                Amount must be minimum 1 and maximum 100000.
            </div>
        </div>
    </div>
    <div class="form-group">
        <label for="reference">Reference</label>
        <input [(ngModel)]="model.reference" minlength="4" maxlength="15" pattern="^[a-zA-Z0-9_.-]*$" placeholder="Enter Reference" type="text" class="form-control" id="reference"
               required
               name="reference"
               #reference="ngModel">

        <div *ngIf="reference.invalid && (reference.dirty || reference.touched)"
             class="alert alert-danger">
            <div *ngIf="reference.errors.required">
                Reference is required.
            </div>
            <div *ngIf="reference.errors.minlength">
                Reference must be at least 4 characters long.
            </div>
            <div *ngIf="reference.errors.pattern">
                Only Alphabets/numbers are allowed
            </div>
        </div>
    </div>
    <button id="submitBtn" type="submit" class="btn btn-success" [disabled]="!paymentForm.form.valid">Submit</button>
    <button id="resetBtn"  type="button" class="btn btn-default" (click)="newPaymentForm(); paymentForm.reset()">Reset</button>
</form>
